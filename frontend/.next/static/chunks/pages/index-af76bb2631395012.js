(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4804)}])},4804:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var a=n(5893),i=n(7294),s=n(7918),u=n.n(s),p=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"address","name":"owner","type":"address"},{"indexed":false,"internalType":"string","name":"ipfsHash","type":"string"}],"name":"DocumentCreated","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"id","type":"uint256"},{"indexed":false,"internalType":"address","name":"signer","type":"address"}],"name":"DocumentSigned","type":"event"},{"inputs":[],"name":"documentCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"documents","outputs":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"string","name":"ipfsHash","type":"string"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"string","name":"_ipfsHash","type":"string"}],"name":"createDocument","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"}],"name":"signDocument","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_id","type":"uint256"},{"internalType":"address","name":"_signer","type":"address"}],"name":"hasSigned","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function","constant":true}]}'),o=()=>{let[e,t]=(0,i.useState)(""),[n,s]=(0,i.useState)(null),[o,r]=(0,i.useState)(null);(0,i.useEffect)(()=>{d(),l()},[]);let d=async()=>{window.ethereum?(window.web3=new(u())(window.ethereum),await window.ethereum.request({method:"eth_requestAccounts"})):alert("MetaMask not detected")},l=async()=>{let e=window.web3;t((await e.eth.getAccounts())[0]),await e.eth.net.getId(),r(new e.eth.Contract(p.Mt,"0xAbCdEf1234567890aBcDef1234567890aBcDef12"))},y=async e=>{e.preventDefault();let t=new FormData;t.append("document",n),await fetch("http://localhost:3001/upload",{method:"POST",body:t})};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"AceCoin Document Signing"}),(0,a.jsxs)("p",{children:["Connected Account: ",e]}),(0,a.jsxs)("form",{onSubmit:y,children:[(0,a.jsx)("input",{type:"file",onChange:e=>s(e.target.files[0])}),(0,a.jsx)("button",{type:"submit",children:"Upload Document"})]})]})}}},function(e){e.O(0,[543,888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);